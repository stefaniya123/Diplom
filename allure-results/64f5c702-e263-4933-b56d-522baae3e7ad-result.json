{"name": "Ожидается 'Истёк срок...', но получаем 'Неверно указан срок...' (11/25, покупка в кредит)", "status": "failed", "statusDetails": {"message": "AssertionError: Ожидалась 'Истёк срок...', но получено: ['Неверно указан срок действия карты']", "trace": "self = <tests.test_ui.TestSuccessfulPurchase testMethod=test_wrong_expiry_date_credit>\n\n    @allure.feature(\"Покупка в кредит\")\n    @allure.story(\"Баг: Некорректная ошибка при будущей дате\")\n    @allure.title(\"Ожидается 'Истёк срок...', но получаем 'Неверно указан срок...' (11/25, покупка в кредит)\")\n    def test_wrong_expiry_date_credit(self):\n        driver = self.driver\n    \n        with allure.step(\"Нажать кнопку 'Купить в кредит'\"):\n            credit_button = WebDriverWait(driver, 25).until(\n                EC.element_to_be_clickable((By.XPATH, \"//button[contains(@class, 'button_view_extra') and contains(@class, 'button_size_m') and contains(@class, 'button_theme_alfa-on-white') and contains(., 'Купить в кредит')]\"))\n            )\n            driver.execute_script(\"arguments[0].scrollIntoView({block: 'center'});\", credit_button)\n            driver.execute_script(\"arguments[0].click();\", credit_button)\n    \n        with allure.step(\"Дождаться формы 'Кредит по данным карты'\"):\n            WebDriverWait(driver, 10).until(\n                EC.visibility_of_element_located((By.XPATH, \"//h3[text()='Кредит по данным карты']\"))\n            )\n    \n        with allure.step(\"Ввести будущую дату: месяц=11, год=25\"):\n            inputs = driver.find_elements(By.CSS_SELECTOR, \"input.input__control\")\n            inputs[0].send_keys(\"4444 4444 4444 4442\")\n            inputs[1].send_keys(\"11\")\n            inputs[2].send_keys(\"25\")\n            inputs[3].send_keys(\"иван\")\n            inputs[4].send_keys(\"999\")\n    \n        with allure.step(\"Нажать кнопку 'Продолжить'\"):\n            continue_button = WebDriverWait(driver, 10).until(\n                EC.element_to_be_clickable((By.XPATH,\n                                            \"//button[contains(@class, 'button_view_extra') and contains(@class, 'button_size_m') and contains(@class, 'button_theme_alfa-on-white') and not(contains(@class, 'button_disabled')) and contains(., 'Продолжить')]\"))\n            )\n            continue_button.click()\n    \n        with allure.step(\"Проверить, что появилась ОЖИДАЕМАЯ ошибка 'Истёк срок...' под 'Годом'\"):\n            error_elements = WebDriverWait(driver, 10).until(\n                EC.presence_of_all_elements_located((By.CSS_SELECTOR, \"span.input__sub\"))\n            )\n            self.assertGreater(len(error_elements), 0, \"Ошибки не появилось\")\n    \n            for i, err in enumerate(error_elements):\n                if err.text.strip() == \"Истёк срок действия карты\":\n                    if i == 2:  # ошибка под \"Годом\"\n                        return  # всё хорошо\n                    else:\n                        self.fail(f\"Ошибка 'Истёк срок...' под полем {i+1}, а не под 'Годом'\")\n            all_texts = [e.text.strip() for e in error_elements]\n>           self.fail(f\"Ожидалась 'Истёк срок...', но получено: {all_texts}\")\nE           AssertionError: Ожидалась 'Истёк срок...', но получено: ['Неверно указан срок действия карты']\n\ntests\\test_ui.py:402: AssertionError"}, "steps": [{"name": "Нажать кнопку 'Купить в кредит'", "status": "passed", "start": 1765209249701, "stop": 1765209249806}, {"name": "Дождаться формы 'Кредит по данным карты'", "status": "passed", "start": 1765209249806, "stop": 1765209249881}, {"name": "Ввести будущую дату: месяц=11, год=25", "status": "passed", "start": 1765209249881, "stop": 1765209250334}, {"name": "Нажать кнопку 'Продолжить'", "status": "passed", "start": 1765209250334, "stop": 1765209250448}, {"name": "Проверить, что появилась ОЖИДАЕМАЯ ошибка 'Истёк срок...' под 'Годом'", "status": "failed", "statusDetails": {"message": "AssertionError: Ожидалась 'Истёк срок...', но получено: ['Неверно указан срок действия карты']\n", "trace": "  File \"C:\\Users\\St\\Desktop\\qapy-diplom_v2\\tests\\test_ui.py\", line 402, in test_wrong_expiry_date_credit\n    self.fail(f\"Ожидалась 'Истёк срок...', но получено: {all_texts}\")\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\St\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\unittest\\case.py\", line 732, in fail\n    raise self.failureException(msg)\n"}, "start": 1765209250448, "stop": 1765209250487}], "start": 1765209245984, "stop": 1765209252726, "uuid": "ad5ddcbd-9787-4ca8-b0c0-93074f9939c7", "historyId": "463a09d3891dc698ca9f4e1e5e1ba94e", "testCaseId": "463a09d3891dc698ca9f4e1e5e1ba94e", "fullName": "tests.test_ui.TestSuccessfulPurchase#test_wrong_expiry_date_credit", "labels": [{"name": "feature", "value": "Покупка в кредит"}, {"name": "story", "value": "Баг: Некорректная ошибка при будущей дате"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_ui"}, {"name": "subSuite", "value": "TestSuccessfulPurchase"}, {"name": "host", "value": "Kirilenko"}, {"name": "thread", "value": "16028-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_ui"}]}